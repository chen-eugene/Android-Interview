
#### [1、网络优化的方向](https://time.geekbang.org/column/article/78585#previewimg)

  - 速度：在网络正常或者良好的时候，怎样更好地利用带宽，进一步提升网络请求速度。
  - 弱网络：移动端网络复杂多变，在出现网络连接不稳定的时候，怎么最大程度保证网络的连通性。
  - 安全：网络安全不容忽视，怎么有效防止被第三方劫持、窃听甚至篡改。


#### [2、网络优化的方案](https://www.jianshu.com/p/d5a843cb7ab1)

  - ① 使用IP直连与HttpDNS
    运营商LocalDNS存在的问题：
    - DNS解析默认使用运营商的LocalDNS服务，这块耗时在 3G 网络下可能是 200～300ms，4G 网络也需要 100ms。  
    - 稳定性：UDP 协议，无状态，容易域名劫持（难复现、难定位、难解决），每天至少几百万个域名被劫持，一年至少十次大规模事件。
    - 准确性：LocalDNS 调度经常出现不准确，比如北京的用户调度到广东IP，移动的运营商调度到电信的IP，跨运营商调度会导致访问慢，甚至访问不了。
    - 及时性：运营商可能会修改DNS的TTL，导致DNS修改生效延迟。不同运营商的服务实现不一致，我们也很难保证DNS解析的耗时。
  
  - ② 连接复用：
    创建连接要经过TCP三次握手、TLS密钥协商，建立连接的代价是非常大的。这里我们主要的优化思路是复用连接，这样就不用每次请求都重复建立连接。
    
    利用Http协议的keep-alive机制：当一个Http请求的数据传输结束后，TCP连接不立即释放，如果此时有新的Http请求，且请求的Host同上次的请求相同，则可以直接复用未释放的TCP连接，从而省去了TCP的释放和再次创建的开销，减小了网络延时。
    
  
  - ② 文件传输
    - 使用缩略图。
    - 使用webp格式，图片压缩减小图片的大小，节省流量和传输时间。
  
  - ③ 使用http2代替Http1
  - ④ 合并网络请求，减少请求次数
    如统计信息，无需实时上报，可以将缓存到本地，然后同意上传，这样只需要上传一次头信息，节约了流量。
  - ⑤ 网络缓存
  - ⑥ 重试策略
  - ⑦ 对网络状态进行监听
  - ⑧ 网络连接池
